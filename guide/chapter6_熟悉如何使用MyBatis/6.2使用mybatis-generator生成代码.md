## 6.2 ä½¿ç”¨ mybatis-generator ç”Ÿæˆä»£ç 
> [ğŸ“–åŸæ–‡é“¾æ¥ï¼šGitHub](https://github.com/YusJade/SpringBoot-MyBatis-Example/blob/master/guide/chapter6_%E7%86%9F%E6%82%89%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8MyBatis/6.2%E4%BD%BF%E7%94%A8mybatis-generator%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81.md)
> 
> [ğŸ“–åŸæ–‡é“¾æ¥ï¼šGiteeï¼ˆå›½å†…ï¼‰](https://gitee.com/YouSaQVQ/SpringBoot-MyBatis-Example/blob/master/guide/chapter6_%E7%86%9F%E6%82%89%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8MyBatis/6.2%E4%BD%BF%E7%94%A8mybatis-generator%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81.md)

`mybatis-generator` æ’ä»¶å¯ä»¥ä¸ºæˆ‘ä»¬çš„å·¥ç¨‹ç”Ÿæˆ `Pojo(å®ä½“)`ã€`Dao` å’Œä¸ä¹‹å¯¹åº”çš„ `Mapper`ï¼Œæä¾›æ“ä½œæ•°æ®åº“çš„åŸºæœ¬æ–¹æ³•ã€‚

### åœ¨ pom.xml é…ç½®ä¾èµ–å’Œæ’ä»¶
åœ¨ä½ çš„`pom.xml`ä¸­æŒ‰ç…§æ ‡ç­¾ä½ç½®æ·»åŠ ç›¸åº”çš„é…ç½®ï¼Œå¹¶å³é”®é€‰æ‹©`Maven - Reload project`ï¼š
```xml
<project>
  <dependencies>
    <!-- æ·»åŠ ä»¥ä¸‹ä¾èµ–é…ç½® -->
    <dependency>
      <groupId>org.mybatis.generator</groupId>
      <artifactId>mybatis-generator-core</artifactId>
      <version>1.4.0</version>
    </dependency>
  </dependencies>
  <build>
    <plugins>
      <!-- æ·»åŠ ä»¥ä¸‹æ’ä»¶é…ç½® -->
      <plugin>
        <groupId>org.mybatis.generator</groupId>
        <artifactId>mybatis-generator-maven-plugin</artifactId>
        <version>1.3.7</version>
        <configuration>
          <!--mybatisçš„ä»£ç ç”Ÿæˆå™¨çš„é…ç½®æ–‡ä»¶-->
          <configurationFile>
            src/main/resources/mybatis-generator-config.xml
          </configurationFile>
          <!--å…è®¸è¦†ç›–ç”Ÿæˆçš„æ–‡ä»¶-->
          <!--æœ‰æ—¶å€™æˆ‘ä»¬çš„æ•°æ®åº“è¡¨æ·»åŠ äº†æ–°å­—æ®µï¼Œ
              éœ€è¦é‡æ–°ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶ã€‚å¸¸è§„åšæ³•æ˜¯æ‰‹åŠ¨åˆ é™¤æ—§æ–‡ä»¶ï¼Œ
              ç„¶ååœ¨ç”¨ MyBatis Generator ç”Ÿæˆæ–°æ–‡ä»¶ã€‚
              å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€‰æ‹©è®© MyBatis Generator è¦†ç›–æ—§æ–‡ä»¶ï¼Œçœä¸‹æ‰‹åŠ¨åˆ é™¤çš„æ­¥
              éª¤ã€‚-->
          <!--å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒMyBatis Generator
              åªä¼šè¦†ç›–æ—§çš„ poã€daoã€è€Œ *mapper.xml ä¸ä¼šè¦†ç›–ï¼Œè€Œæ˜¯è¿½åŠ ï¼Œ
              è¿™æ ·åšçš„ç›®çš„æ˜¯é˜²æ­¢ç”¨æˆ·è‡ªå·±å†™çš„ sql è¯­å¥ä¸€ä¸å°å¿ƒéƒ½è¢« MyBatis Generator ç»™è¦†ç›–äº†-->
          <overwrite>true</overwrite>
          <verbose>true</verbose>
          <!--å°†å½“å‰pomçš„ä¾èµ–é¡¹æ·»åŠ åˆ°ç”Ÿæˆå™¨çš„ç±»è·¯å¾„ä¸­-->
          <!--<includeCompileDependencies>true</includeCompileDependencies>-->
        </configuration>
        <dependencies>
          <!-- mysqlçš„JDBCé©±åŠ¨ -->
          <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <version>8.3.0</version>
          </dependency>
          <dependency>
            <groupId>org.mybatis.generator</groupId>
            <artifactId>mybatis-generator-core</artifactId>
            <version>1.4.0</version>
          </dependency>
        </dependencies>
      </plugin>
    </plugins>
  </build>
</project>
```

### åœ¨å·¥ç¨‹å†…æ–°å»ºé…ç½®æ–‡ä»¶
åœ¨`src/main/resources/`ä¸‹æ–°å»º`mybatis-generator-config.xml`ï¼Œç„¶åæ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ï¼š
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE generatorConfiguration
  PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"
  "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd">
<generatorConfiguration>
  <!-- targetRuntimeï¼š è®¾ç½®ç”Ÿæˆçš„æ–‡ä»¶ä½¿ç”¨äºå“ªä¸ª MyBatis ç‰ˆæœ¬  -->
  <context id="default" targetRuntime="MyBatis3">
    <!--optional,æŒ‡åœ¨åˆ›å»ºclassæ—¶ï¼Œå¯¹æ³¨é‡Šè¿›è¡Œæ§åˆ¶-->
    <commentGenerator>
      <property name="suppressDate" value="true"/>
      <!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Š trueï¼šæ˜¯ ï¼š false:å¦ -->
      <property name="suppressAllComments" value="true"/>
    </commentGenerator>
    <!--æ•°æ®åº“é“¾æ¥åœ°å€è´¦å·å¯†ç -->
    <jdbcConnection driverClass="com.mysql.cj.jdbc.Driver"
      connectionURL="jdbc:mysql://127.0.0.1:3306/ä½ çš„æ•°æ®åº“å"
      userId="root"
      password="">
      <!--MySQL 8.x éœ€è¦æŒ‡å®šæœåŠ¡å™¨çš„æ—¶åŒº-->
      <property name="serverTimezone" value="UTC"/>
      <!--MySQL ä¸æ”¯æŒ schema æˆ–è€… catalog æ‰€ä»¥éœ€è¦æ·»åŠ è¿™ä¸ª-->
      <!--å‚è€ƒ : http://www.mybatis.org/generator/usage/mysql.html-->
      <property name="nullCatalogMeansCurrent" value="true"/>
    </jdbcConnection>

    <!--ç”Ÿæˆpojoå­˜æ”¾ä½ç½®-->
    <!-- targetPackageï¼š ç”Ÿæˆå®ä½“ç±»æ‰€åœ¨çš„åŒ… -->
    <!-- targetProjectï¼š ç”Ÿæˆå®ä½“ç±»æ‰€åœ¨çš„ç¡¬ç›˜ä½ç½® -->
    <javaModelGenerator targetPackage="ä½ è‡ªå·±çš„åŒ…å.pojo" targetProject="src/main/java">

      <!-- æ˜¯å¦å…è®¸å­åŒ… -->
      <property name="enableSubPackages" value="true" />
      <!-- æ˜¯å¦å¯¹modalæ·»åŠ æ„é€ å‡½æ•° -->
      <property name="constructorBased" value="true" />
      <!-- æ˜¯å¦æ¸…ç†ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºçš„å­—ç¬¦ä¸²å·¦å³ä¸¤è¾¹çš„ç©ºç™½å­—ç¬¦ -->
      <property name="trimStrings" value="true" />
      <!-- å»ºç«‹modalå¯¹è±¡æ˜¯å¦ä¸å¯æ”¹å˜ å³ç”Ÿæˆçš„modalå¯¹è±¡ä¸ä¼šæœ‰setteræ–¹æ³•ï¼Œåªæœ‰æ„é€ æ–¹æ³• -->
      <property name="immutable" value="false" />

    </javaModelGenerator>

    <!--ç”Ÿæˆæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®-->
    <sqlMapGenerator targetPackage="mappers" targetProject="src/main/resources">
      <!-- é’ˆå¯¹æ•°æ®åº“çš„ä¸€ä¸ªé…ç½®ï¼Œæ˜¯å¦æŠŠ schema ä½œä¸ºåŒ…å -->
      <property name="enableSubPackages" value="true"/>
    </sqlMapGenerator>

    <!--ç”ŸæˆDaoç±»å­˜æ”¾ä½ç½®  ä¹Ÿå°±æ˜¯ç”Ÿæˆæ¥å£æ‰€åœ¨çš„ä½ç½® -->
    <!-- å®¢æˆ·ç«¯ä»£ç ï¼Œç”Ÿæˆæ˜“äºä½¿ç”¨çš„é’ˆå¯¹Modelå¯¹è±¡å’ŒXMLé…ç½®æ–‡ä»¶ çš„ä»£ç 
            type="ANNOTATEDMAPPER",ç”ŸæˆJava Model å’ŒåŸºäºæ³¨è§£çš„Mapperå¯¹è±¡
            type="MIXEDMAPPER",ç”ŸæˆåŸºäºæ³¨è§£çš„Java Model å’Œç›¸åº”çš„Mapperå¯¹è±¡
            type="XMLMAPPER",ç”ŸæˆSQLMap XMLæ–‡ä»¶å’Œç‹¬ç«‹çš„Mapperæ¥å£
    -->
    <javaClientGenerator type="XMLMAPPER" targetPackage="ä½ è‡ªå·±çš„åŒ…å.dao" targetProject="src/main/java">
      <!-- é’ˆå¯¹ Oracle æ•°æ®åº“çš„ä¸€ä¸ªé…ç½®ï¼Œæ˜¯å¦æŠŠ schema ä½œä¸ºåŒ…å -->
      <property name="enableSubPackages" value="true"/>
    </javaClientGenerator>

    <!--ç”Ÿæˆå¯¹åº”è¡¨åŠç±»åï¼Œè¿™é‡Œæ¯ä¸€ä¸ªè¡¨çš„äº”é¡¹å±æ€§æ˜¯ä¸ºäº†åˆ é™¤è‡ªåŠ¨ç¼–å†™çš„å¤æ‚æŸ¥è¯¢-->
<!--     tableName: å¯¹åº”çš„æ˜¯æ•°æ®åº“è¡¨åï¼ŒdomainObjectNameï¼š æ˜¯å®ä½“ç±»çš„åå­—ï¼Œå¯ä»¥è‡ªå®šä¹‰-->
    <table tableName="tb_admin" domainObjectName="Admin" enableCountByExample="false"
      enableUpdateByExample="false" enableDeleteByExample="false"
      enableSelectByExample="false" selectByExampleQueryId="false"/>
  </context>
</generatorConfiguration>

```
### åœ¨ Maven plugin ä¸­è¿è¡Œæ’ä»¶
åœ¨ IDEA å³ä¾§çš„ Maven é€‰é¡¹å¡ä¸­å±•å¼€ `plugins/mybatis-generator`ï¼ŒåŒå‡»`generate`è¿è¡Œæ’ä»¶ï¼Œç”Ÿæˆæˆ‘ä»¬éœ€è¦çš„ä»£ç ã€‚
<img src="./images/run.png" width=30% />

ç”Ÿæˆ `Pojo(å®ä½“)`ã€`Dao` å’Œä¸ä¹‹å¯¹åº”çš„ `Mapper`ã€‚

<img src="./images/res.png" width=30% />
